{"ast":null,"code":"var _jsxFileName = \"/Users/benbavar/jcbenny/src/pages/Sell.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport { useUser } from '../lib/useUser';\nimport { nameDups } from '../lib/getNameDups';\nimport onsubmitHandler from '../lib/onsubmitHandler';\nimport MenuBar from '../components/MenuBar';\nimport Menu from '../components/Menu';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst onfulfilled = async res => {\n  const container = document.querySelector('#sell > .container');\n  let imgBox = container.querySelector('.img-box');\n  if (imgBox.style.display === 'none') {\n    imgBox.style.display = 'block';\n    imgBox.animate([{\n      transform: 'scale(0)'\n    }, {\n      transform: 'scale(1)'\n    }], 3000);\n  }\n  const prevImg = imgBox.querySelector('img');\n  if (prevImg) prevImg.remove();\n  const img = document.createElement('img');\n  img.style.height = 'auto';\n  img.style.maxWidth = '100%';\n  img.src = await res.text();\n  imgBox.appendChild(img);\n  let btns = container.querySelectorAll('button');\n  const sendPromptBtn = btns[0];\n  const saleBtn = btns[1];\n  const h2 = container.querySelector('h2');\n  if (h2) {\n    const h4 = document.createElement('h4');\n    h4.textContent = 'Does this resemble the item you had in mind? If not, that may work to your advantage, actually. You want to sell this thing, not accurately represent it to shoppers. But if, for any reason, you want to change the picture, feel free to send another text prompt. Even the one you sent previously will generate a new image if resent.';\n    container.insertBefore(h4, h2);\n    h2.remove();\n    sendPromptBtn.textContent = 'Try again';\n    saleBtn.style.display = 'block';\n  }\n};\nconst sendOpenAIPrompt = (e, description, email) => {\n  fetch('https://weak-puce-toad-garb.cyclic.app/private/sell-something/make-pic', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      List: {\n        Description: description\n      },\n      Email: email\n    })\n  }).then(res => onfulfilled(res)).catch(error => console.log(error));\n};\nconst makeNameCheckboxes = (container, userInfo, itemDescription) => {\n  const form = document.createElement('form');\n  form.classList.add('checkboxes');\n  const btnBox = container.querySelector('.btn-box');\n  container.insertBefore(form, btnBox);\n  for (let [name] of nameDups) {\n    let input = document.createElement('input');\n    input.type = 'checkbox';\n    let nameInIDFormat = name.toLowerCase();\n    nameInIDFormat = nameInIDFormat.replaceAll(' ', '-');\n    input.id = nameInIDFormat;\n    const label = document.createElement('label');\n    label.textContent = name;\n    label.htmlFor = input.id;\n    let newBreak = document.createElement('br');\n    [input, label, newBreak].forEach(node => form.appendChild(node));\n    if (nameDups[name] > 1) input.id += ''; // TODO: Append to id if there are dups of name\n  }\n\n  let newBreak = document.createElement('br');\n  form.appendChild(newBreak);\n  let input = document.createElement('input');\n  input.type = 'submit';\n  input.name = 'SELL';\n  input.value = 'SELL';\n  input.classList.add('submit');\n  form.onsubmit = e => {\n    const formData = onsubmitHandler(e, userInfo);\n    console.log(`formData = ${JSON.stringify(formData)}`);\n    let potentialBuyers = [];\n    // if (\n    //   formData[Symbol.iterator] &&\n    //   typeof formData[Symbol.iterator] === 'function'\n    // )\n    //   for (let [name, checked] of formData)\n    //     if (checked) potentialBuyers.push(name);\n\n    for (let key of Object.keys(formData)) if (formData[key]) potentialBuyers.push(key);\n    const itemInfo = {\n      Description: itemDescription,\n      PotentialBuyers: potentialBuyers\n    };\n    console.log(`itemInfo = ${JSON.stringify(itemInfo)}`);\n    putItemUpForSale(e, itemInfo, userInfo.Email);\n  };\n  form.appendChild(input);\n};\nconst handleOfferToSomeoneSpecial = (userInfo, itemDescription) => {\n  const container = document.querySelector('.container');\n  const sellBtn = container.querySelector('button');\n  if (sellBtn.style.display === 'block') sellBtn.style.display = 'none';\n  const h4 = container.querySelector('h4');\n  h4.textContent = \"Oooo, who's this special someone? Or should I say special someones, plural?\";\n  const imgBox = container.querySelector('.img-box');\n  if (imgBox.style.display === 'block') {\n    imgBox.style.transform = 'scale(0)';\n    imgBox.animate([{\n      transform: 'scale(1)'\n    }, {\n      transform: 'scale(0)'\n    }], 1500);\n    setTimeout(() => {\n      imgBox.style.display = 'none';\n      makeNameCheckboxes(container, userInfo, itemDescription);\n    }, 1500);\n  } else makeNameCheckboxes(container, userInfo, itemDescription);\n};\nconst handleOfferToAnyone = () => {\n  const checkboxes = document.querySelector('.checkboxes');\n  if (checkboxes) checkboxes.remove();\n  const h4 = document.querySelector('h4');\n  h4.textContent = \"Haven't met that special someone yet, eh? Whatever, let's see who'll buy this thing.\";\n  const container = document.querySelector('.container');\n  const sellBtn = container.querySelector('button');\n  sellBtn.style.display = 'block';\n};\nconst handleSelection = (e, userInfo, itemDescription) => {\n  const offerToSomeoneSpecial = e.target.children[2];\n  if (offerToSomeoneSpecial.selected) handleOfferToSomeoneSpecial(userInfo, itemDescription);else handleOfferToAnyone();\n};\nconst askItemAvailability = (userInfo, itemDescription) => {\n  const container = document.querySelector('.container');\n  const h4 = container.querySelector('h4');\n  h4.textContent = 'To whom would you like to offer this?';\n  const select = document.createElement('select');\n  const options = [document.createElement('option'), document.createElement('option'), document.createElement('option')];\n  options[0].textContent = '';\n  options[0].selected = true;\n  options[0].disabled = true;\n  // options[0].value = true;\n  options[1].textContent = 'Anyone willing to buy it';\n  options[2].textContent = 'Someone special';\n  options.forEach(option => select.appendChild(option));\n  select.onchange = e => handleSelection(e, userInfo, itemDescription);\n  const descriptionField = document.getElementById('description-field');\n  descriptionField.remove();\n  const btns = container.querySelectorAll('button');\n  btns[0].remove();\n  btns[1].remove();\n  const btnBox = container.querySelector('.btn-box');\n  container.insertBefore(select, btnBox);\n};\nconst putItemUpForSale = (e, itemInfo, email) => {\n  const img = document.querySelector('#sell .img-box > img');\n  // itemInfo.ImgURL = img.src;\n\n  fetch('https://weak-puce-toad-garb.cyclic.app/private/sell-something/save-item-info', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      Merch: {\n        DynamoData: itemInfo,\n        S3Data: {\n          ImgURL: img.src\n        }\n      },\n      Email: email\n    })\n  }).then(res => {\n    res.text().then(text => {\n      console.log(text);\n    });\n  }).catch(error => console.log(error));\n};\nconst Sell = () => {\n  _s();\n  useEffect(() => {\n    document.title = 'Sell something | JCBenny';\n  });\n  const menuRef = useRef(null);\n  const user = useUser();\n  const {\n    Email\n  } = user;\n  const [description, setDescription] = useState('Item description');\n  const [changed, setChanged] = useState(false);\n  const [reverted, setReverted] = useState(false);\n  const [potentialBuyers, setPotentialBuyers] = useState([]);\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    id: \"sell\",\n    children: [/*#__PURE__*/_jsxDEV(MenuBar, {\n      menuRef: menuRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      ref: menuRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"What do you have to sell?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"description-field\",\n        value: description,\n        onChange: e => {\n          setDescription(e.target.value);\n          setChanged(true);\n        },\n        onClick: e => {\n          if (!changed || reverted) {\n            setDescription('');\n            e.target.style.color = 'rgb(235, 235, 179)';\n            setReverted(false);\n          }\n        },\n        onBlur: e => {\n          if (e.target.value === '') {\n            setDescription('Item description');\n            e.target.style.color = 'rgba(235, 235, 179, 0.3)';\n            setReverted(true);\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit\",\n          onClick: e => sendOpenAIPrompt(e, description, Email),\n          children: \"Make ad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            display: 'none'\n          },\n          className: \"submit\",\n          onClick: e => askItemAvailability({\n            Email: Email\n          }, description),\n          children: \"Stick with this\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            display: 'none'\n          },\n          className: \"submit\",\n          onClick: e => putItemUpForSale(e, description, potentialBuyers, Email),\n          children: \"Sell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'none'\n        },\n        className: \"img-box\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n};\n_s(Sell, \"IRL5GesaPSQ47OWOsT7b8KvHJvQ=\", false, function () {\n  return [useUser];\n});\n_c = Sell;\nexport default Sell;\nvar _c;\n$RefreshReg$(_c, \"Sell\");","map":{"version":3,"names":["useEffect","useRef","useState","useUser","nameDups","onsubmitHandler","MenuBar","Menu","jsxDEV","_jsxDEV","onfulfilled","res","container","document","querySelector","imgBox","style","display","animate","transform","prevImg","remove","img","createElement","height","maxWidth","src","text","appendChild","btns","querySelectorAll","sendPromptBtn","saleBtn","h2","h4","textContent","insertBefore","sendOpenAIPrompt","e","description","email","fetch","method","headers","body","JSON","stringify","List","Description","Email","then","catch","error","console","log","makeNameCheckboxes","userInfo","itemDescription","form","classList","add","btnBox","name","input","type","nameInIDFormat","toLowerCase","replaceAll","id","label","htmlFor","newBreak","forEach","node","value","onsubmit","formData","potentialBuyers","key","Object","keys","push","itemInfo","PotentialBuyers","putItemUpForSale","handleOfferToSomeoneSpecial","sellBtn","setTimeout","handleOfferToAnyone","checkboxes","handleSelection","offerToSomeoneSpecial","target","children","selected","askItemAvailability","select","options","disabled","option","onchange","descriptionField","getElementById","Merch","DynamoData","S3Data","ImgURL","Sell","_s","title","menuRef","user","setDescription","changed","setChanged","reverted","setReverted","setPotentialBuyers","fileName","_jsxFileName","lineNumber","columnNumber","ref","className","onChange","onClick","color","onBlur","_c","$RefreshReg$"],"sources":["/Users/benbavar/jcbenny/src/pages/Sell.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { useUser } from '../lib/useUser';\nimport { nameDups } from '../lib/getNameDups';\nimport onsubmitHandler from '../lib/onsubmitHandler';\n\nimport MenuBar from '../components/MenuBar';\nimport Menu from '../components/Menu';\n\nconst onfulfilled = async (res) => {\n  const container = document.querySelector('#sell > .container');\n  let imgBox = container.querySelector('.img-box');\n\n  if (imgBox.style.display === 'none') {\n    imgBox.style.display = 'block';\n    imgBox.animate(\n      [{ transform: 'scale(0)' }, { transform: 'scale(1)' }],\n      3000\n    );\n  }\n\n  const prevImg = imgBox.querySelector('img');\n  if (prevImg) prevImg.remove();\n\n  const img = document.createElement('img');\n  img.style.height = 'auto';\n  img.style.maxWidth = '100%';\n  img.src = await res.text();\n\n  imgBox.appendChild(img);\n\n  let btns = container.querySelectorAll('button');\n  const sendPromptBtn = btns[0];\n  const saleBtn = btns[1];\n\n  const h2 = container.querySelector('h2');\n  if (h2) {\n    const h4 = document.createElement('h4');\n    h4.textContent =\n      'Does this resemble the item you had in mind? If not, that may work to your advantage, actually. You want to sell this thing, not accurately represent it to shoppers. But if, for any reason, you want to change the picture, feel free to send another text prompt. Even the one you sent previously will generate a new image if resent.';\n\n    container.insertBefore(h4, h2);\n    h2.remove();\n\n    sendPromptBtn.textContent = 'Try again';\n    saleBtn.style.display = 'block';\n  }\n};\n\nconst sendOpenAIPrompt = (e, description, email) => {\n  fetch(\n    'https://weak-puce-toad-garb.cyclic.app/private/sell-something/make-pic',\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        List: { Description: description },\n        Email: email,\n      }),\n    }\n  )\n    .then((res) => onfulfilled(res))\n    .catch((error) => console.log(error));\n};\n\nconst makeNameCheckboxes = (container, userInfo, itemDescription) => {\n  const form = document.createElement('form');\n  form.classList.add('checkboxes');\n  const btnBox = container.querySelector('.btn-box');\n  container.insertBefore(form, btnBox);\n\n  for (let [name] of nameDups) {\n    let input = document.createElement('input');\n    input.type = 'checkbox';\n\n    let nameInIDFormat = name.toLowerCase();\n    nameInIDFormat = nameInIDFormat.replaceAll(' ', '-');\n    input.id = nameInIDFormat;\n\n    const label = document.createElement('label');\n    label.textContent = name;\n    label.htmlFor = input.id;\n\n    let newBreak = document.createElement('br');\n    [input, label, newBreak].forEach((node) => form.appendChild(node));\n\n    if (nameDups[name] > 1) input.id += ''; // TODO: Append to id if there are dups of name\n  }\n\n  let newBreak = document.createElement('br');\n  form.appendChild(newBreak);\n\n  let input = document.createElement('input');\n  input.type = 'submit';\n  input.name = 'SELL';\n  input.value = 'SELL';\n  input.classList.add('submit');\n  form.onsubmit = (e) => {\n    const formData = onsubmitHandler(e, userInfo);\n    console.log(`formData = ${JSON.stringify(formData)}`);\n\n    let potentialBuyers = [];\n    // if (\n    //   formData[Symbol.iterator] &&\n    //   typeof formData[Symbol.iterator] === 'function'\n    // )\n    //   for (let [name, checked] of formData)\n    //     if (checked) potentialBuyers.push(name);\n\n    for (let key of Object.keys(formData))\n      if (formData[key]) potentialBuyers.push(key);\n\n    const itemInfo = {\n      Description: itemDescription,\n      PotentialBuyers: potentialBuyers,\n    };\n\n    console.log(`itemInfo = ${JSON.stringify(itemInfo)}`);\n\n    putItemUpForSale(e, itemInfo, userInfo.Email);\n  };\n  form.appendChild(input);\n};\n\nconst handleOfferToSomeoneSpecial = (userInfo, itemDescription) => {\n  const container = document.querySelector('.container');\n\n  const sellBtn = container.querySelector('button');\n  if (sellBtn.style.display === 'block') sellBtn.style.display = 'none';\n\n  const h4 = container.querySelector('h4');\n  h4.textContent =\n    \"Oooo, who's this special someone? Or should I say special someones, plural?\";\n\n  const imgBox = container.querySelector('.img-box');\n  if (imgBox.style.display === 'block') {\n    imgBox.style.transform = 'scale(0)';\n    imgBox.animate(\n      [{ transform: 'scale(1)' }, { transform: 'scale(0)' }],\n      1500\n    );\n\n    setTimeout(() => {\n      imgBox.style.display = 'none';\n\n      makeNameCheckboxes(container, userInfo, itemDescription);\n    }, 1500);\n  } else makeNameCheckboxes(container, userInfo, itemDescription);\n};\n\nconst handleOfferToAnyone = () => {\n  const checkboxes = document.querySelector('.checkboxes');\n  if (checkboxes) checkboxes.remove();\n\n  const h4 = document.querySelector('h4');\n  h4.textContent =\n    \"Haven't met that special someone yet, eh? Whatever, let's see who'll buy this thing.\";\n\n  const container = document.querySelector('.container');\n\n  const sellBtn = container.querySelector('button');\n  sellBtn.style.display = 'block';\n};\n\nconst handleSelection = (e, userInfo, itemDescription) => {\n  const offerToSomeoneSpecial = e.target.children[2];\n\n  if (offerToSomeoneSpecial.selected)\n    handleOfferToSomeoneSpecial(userInfo, itemDescription);\n  else handleOfferToAnyone();\n};\n\nconst askItemAvailability = (userInfo, itemDescription) => {\n  const container = document.querySelector('.container');\n\n  const h4 = container.querySelector('h4');\n  h4.textContent = 'To whom would you like to offer this?';\n\n  const select = document.createElement('select');\n  const options = [\n    document.createElement('option'),\n    document.createElement('option'),\n    document.createElement('option'),\n  ];\n  options[0].textContent = '';\n  options[0].selected = true;\n  options[0].disabled = true;\n  // options[0].value = true;\n  options[1].textContent = 'Anyone willing to buy it';\n  options[2].textContent = 'Someone special';\n  options.forEach((option) => select.appendChild(option));\n  select.onchange = (e) => handleSelection(e, userInfo, itemDescription);\n\n  const descriptionField = document.getElementById('description-field');\n  descriptionField.remove();\n\n  const btns = container.querySelectorAll('button');\n  btns[0].remove();\n  btns[1].remove();\n\n  const btnBox = container.querySelector('.btn-box');\n  container.insertBefore(select, btnBox);\n};\n\nconst putItemUpForSale = (e, itemInfo, email) => {\n  const img = document.querySelector('#sell .img-box > img');\n  // itemInfo.ImgURL = img.src;\n\n  fetch(\n    'https://weak-puce-toad-garb.cyclic.app/private/sell-something/save-item-info',\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        Merch: { DynamoData: itemInfo, S3Data: { ImgURL: img.src } },\n        Email: email,\n      }),\n    }\n  )\n    .then((res) => {\n      res.text().then((text) => {\n        console.log(text);\n      });\n    })\n    .catch((error) => console.log(error));\n};\n\nconst Sell = () => {\n  useEffect(() => {\n    document.title = 'Sell something | JCBenny';\n  });\n  const menuRef = useRef(null);\n\n  const user = useUser();\n  const { Email } = user;\n\n  const [description, setDescription] = useState('Item description');\n  const [changed, setChanged] = useState(false);\n  const [reverted, setReverted] = useState(false);\n  const [potentialBuyers, setPotentialBuyers] = useState([]);\n\n  return (\n    <body id='sell'>\n      <MenuBar menuRef={menuRef} />\n      <Menu ref={menuRef} />\n      <div className='container'>\n        <h2>What do you have to sell?</h2>\n        <input\n          id='description-field'\n          value={description}\n          onChange={(e) => {\n            setDescription(e.target.value);\n            setChanged(true);\n          }}\n          onClick={(e) => {\n            if (!changed || reverted) {\n              setDescription('');\n              e.target.style.color = 'rgb(235, 235, 179)';\n              setReverted(false);\n            }\n          }}\n          onBlur={(e) => {\n            if (e.target.value === '') {\n              setDescription('Item description');\n              e.target.style.color = 'rgba(235, 235, 179, 0.3)';\n              setReverted(true);\n            }\n          }}\n        />\n        <div className='btn-box'>\n          <button\n            className='submit'\n            onClick={(e) => sendOpenAIPrompt(e, description, Email)}\n          >\n            Make ad\n          </button>\n          <button\n            style={{ display: 'none' }}\n            className='submit'\n            onClick={(e) => askItemAvailability({ Email: Email }, description)}\n          >\n            Stick with this\n          </button>\n          <button\n            style={{ display: 'none' }}\n            className='submit'\n            onClick={(e) =>\n              putItemUpForSale(e, description, potentialBuyers, Email)\n            }\n          >\n            Sell\n          </button>\n        </div>\n        <div style={{ display: 'none' }} className='img-box'></div>\n      </div>\n    </body>\n  );\n};\n\nexport default Sell;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}