{"ast":null,"code":"const jsonifyForm = form => {\n  const formKeyNodes = form.querySelectorAll('.field > :nth-child(1):not(.submit)');\n  const formValNodes = form.querySelectorAll('.field > :nth-child(2)');\n  const jsonifiedForm = {};\n  for (var i = 0; i < formKeyNodes.length; i++) jsonifiedForm[formKeyNodes[i].textContent] = formValNodes[i].value;\n  return jsonifiedForm;\n};\nconst onsubmitHandler = (e, method, onfulfilled) => {\n  e.preventDefault();\n  const form = e.target;\n  const formData = jsonifyForm(form);\n  const req = {\n    method: method\n  };\n  if (method === 'POST') {\n    req.headers = {\n      'Content-Type': 'application/json'\n    };\n    req.body = JSON.stringify(formData);\n  }\n  fetch(`https://weak-puce-toad-garb.cyclic.app/${method === 'GET' ? `emails/${formData.Email}/passwords/${formData.Password}` : ''}`, req).then(onfulfilled).catch(error => console.log(error));\n};\nexport { onsubmitHandler };","map":{"version":3,"names":["jsonifyForm","form","formKeyNodes","querySelectorAll","formValNodes","jsonifiedForm","i","length","textContent","value","onsubmitHandler","e","method","onfulfilled","preventDefault","target","formData","req","headers","body","JSON","stringify","fetch","Email","Password","then","catch","error","console","log"],"sources":["/Users/benbavar/litrit/src/lib/form-handling.js"],"sourcesContent":["const jsonifyForm = (form) => {\n  const formKeyNodes = form.querySelectorAll(\n    '.field > :nth-child(1):not(.submit)'\n  );\n  const formValNodes = form.querySelectorAll('.field > :nth-child(2)');\n\n  const jsonifiedForm = {};\n  for (var i = 0; i < formKeyNodes.length; i++)\n    jsonifiedForm[formKeyNodes[i].textContent] = formValNodes[i].value;\n\n  return jsonifiedForm;\n};\n\nconst onsubmitHandler = (e, method, onfulfilled) => {\n  e.preventDefault();\n\n  const form = e.target;\n  const formData = jsonifyForm(form);\n\n  const req = {\n    method: method,\n  };\n\n  if (method === 'POST') {\n    req.headers = { 'Content-Type': 'application/json' };\n    req.body = JSON.stringify(formData);\n  }\n\n  fetch(\n    `https://weak-puce-toad-garb.cyclic.app/${\n      method === 'GET'\n        ? `emails/${formData.Email}/passwords/${formData.Password}`\n        : ''\n    }`,\n    req\n  )\n    .then(onfulfilled)\n    .catch((error) => console.log(error));\n};\n\nexport { onsubmitHandler };\n"],"mappings":"AAAA,MAAMA,WAAW,GAAIC,IAAI,IAAK;EAC5B,MAAMC,YAAY,GAAGD,IAAI,CAACE,gBAAgB,CACxC,qCACF,CAAC;EACD,MAAMC,YAAY,GAAGH,IAAI,CAACE,gBAAgB,CAAC,wBAAwB,CAAC;EAEpE,MAAME,aAAa,GAAG,CAAC,CAAC;EACxB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,YAAY,CAACK,MAAM,EAAED,CAAC,EAAE,EAC1CD,aAAa,CAACH,YAAY,CAACI,CAAC,CAAC,CAACE,WAAW,CAAC,GAAGJ,YAAY,CAACE,CAAC,CAAC,CAACG,KAAK;EAEpE,OAAOJ,aAAa;AACtB,CAAC;AAED,MAAMK,eAAe,GAAGA,CAACC,CAAC,EAAEC,MAAM,EAAEC,WAAW,KAAK;EAClDF,CAAC,CAACG,cAAc,CAAC,CAAC;EAElB,MAAMb,IAAI,GAAGU,CAAC,CAACI,MAAM;EACrB,MAAMC,QAAQ,GAAGhB,WAAW,CAACC,IAAI,CAAC;EAElC,MAAMgB,GAAG,GAAG;IACVL,MAAM,EAAEA;EACV,CAAC;EAED,IAAIA,MAAM,KAAK,MAAM,EAAE;IACrBK,GAAG,CAACC,OAAO,GAAG;MAAE,cAAc,EAAE;IAAmB,CAAC;IACpDD,GAAG,CAACE,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACL,QAAQ,CAAC;EACrC;EAEAM,KAAK,CACF,0CACCV,MAAM,KAAK,KAAK,GACX,UAASI,QAAQ,CAACO,KAAM,cAAaP,QAAQ,CAACQ,QAAS,EAAC,GACzD,EACL,EAAC,EACFP,GACF,CAAC,CACEQ,IAAI,CAACZ,WAAW,CAAC,CACjBa,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;AACzC,CAAC;AAED,SAASjB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}