{"ast":null,"code":"import _regeneratorRuntime from\"/Users/benbavar/litrit/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/benbavar/litrit/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useRef,forwardRef,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var formRef=useRef(null);var submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var registrationForm,form,postReq,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:registrationForm=formRef.current;form=jsonifyForm(registrationForm);// const postReq = {\n//   method: 'POST',\n//   headers: {\n//     Accept: '*/*',\n//     'Accept-Encoding': 'gzip, deflate, br',\n//     'Content-Length': '147',\n//     'Content-Type': 'application/json',\n//     Host: 'weak-puce-toad-garb.cyclic.app',\n//     'User-Agent': 'Thunder Client (https://www.thunderclient.com)',\n//     // 'X-Forwarded-For': '99.65.186.42',\n//     // 'X-Forwarded-Port': '443',\n//     // 'X-Forwarded-Proto': 'https',\n//   },\n//   body: JSON.stringify(form),\n// };\n// prettier-ignore\npostReq={method:'POST',headers:{'Content-Type':'application/json'},body:form};_context.next=5;return fetch(\"https://weak-puce-toad-garb.cyclic.app/\",postReq).catch(function(error){return console.log(error);});case 5:res=_context.sent;console.log(res);// pantryClient.basket\n//   .update('accounts', form, options)\n//   .then((response) => console.log(response));\ncase 7:case\"end\":return _context.stop();}},_callee);}));return function submitForm(){return _ref.apply(this,arguments);};}();var jsonifyForm=function jsonifyForm(form){var formKeyNodes=form.querySelectorAll('.field > :nth-child(1):not(.submit)');var formValNodes=form.querySelectorAll('.field > :nth-child(2)');var jsonifiedForm={};for(var i=0;i<formKeyNodes.length;i++)jsonifiedForm[formKeyNodes[i].textContent]=formValNodes[i].value;return jsonifiedForm;};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create an account\"}),/*#__PURE__*/_jsxs(\"form\",{ref:formRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"name-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"First name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Last name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Confirm new password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"input\",{className:\"submit\",type:\"submit\",value:\"Create account\",onClick:submitForm})}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'10pt'},children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"login\",children:\"Sign in.\"})]})]})]});};export default Register;","map":{"version":3,"names":["useRef","forwardRef","useState","jsx","_jsx","jsxs","_jsxs","Register","formRef","submitForm","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","registrationForm","form","postReq","res","wrap","_callee$","_context","prev","next","current","jsonifyForm","method","headers","body","fetch","catch","error","console","log","sent","stop","apply","arguments","formKeyNodes","querySelectorAll","formValNodes","jsonifiedForm","i","length","textContent","value","className","children","ref","type","onClick","style","fontSize","href"],"sources":["/Users/benbavar/litrit/src/pages/Register.js"],"sourcesContent":["import { useRef, forwardRef, useState } from 'react';\n\nconst Register = () => {\n  const formRef = useRef(null);\n\n  const submitForm = async () => {\n    const registrationForm = formRef.current;\n    const form = jsonifyForm(registrationForm);\n    // const postReq = {\n    //   method: 'POST',\n    //   headers: {\n    //     Accept: '*/*',\n    //     'Accept-Encoding': 'gzip, deflate, br',\n    //     'Content-Length': '147',\n    //     'Content-Type': 'application/json',\n    //     Host: 'weak-puce-toad-garb.cyclic.app',\n    //     'User-Agent': 'Thunder Client (https://www.thunderclient.com)',\n    //     // 'X-Forwarded-For': '99.65.186.42',\n    //     // 'X-Forwarded-Port': '443',\n    //     // 'X-Forwarded-Proto': 'https',\n    //   },\n    //   body: JSON.stringify(form),\n    // };\n\n    // prettier-ignore\n    const postReq = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: form,\n    };\n    const res = await fetch(\n      `https://weak-puce-toad-garb.cyclic.app/`,\n      postReq\n    ).catch((error) => console.log(error));\n    console.log(res);\n    // pantryClient.basket\n    //   .update('accounts', form, options)\n    //   .then((response) => console.log(response));\n  };\n\n  const jsonifyForm = (form) => {\n    const formKeyNodes = form.querySelectorAll(\n      '.field > :nth-child(1):not(.submit)'\n    );\n    const formValNodes = form.querySelectorAll('.field > :nth-child(2)');\n\n    const jsonifiedForm = {};\n    for (var i = 0; i < formKeyNodes.length; i++)\n      jsonifiedForm[formKeyNodes[i].textContent] = formValNodes[i].value;\n\n    return jsonifiedForm;\n  };\n\n  return (\n    <div className='card'>\n      <h3>Create an account</h3>\n      <form ref={formRef}>\n        <div className='field'>\n          <div>Email</div>\n          <input type='email' />\n        </div>\n        <div className='name-section'>\n          <div className='field'>\n            <div>First name</div>\n            <input type='text' />\n          </div>\n          <div className='field'>\n            <div>Last name</div>\n            <input type='text' />\n          </div>\n        </div>\n        <div className='password-section'>\n          <div className='field'>\n            <div>Password</div>\n            <input type='password' />\n          </div>\n          <div className='field'>\n            <div>Confirm new password</div>\n            <input type='password' />\n          </div>\n        </div>\n        <div className='field'>\n          <input\n            className='submit'\n            type='submit'\n            value='Create account'\n            onClick={submitForm}\n          />\n        </div>\n        <p style={{ fontSize: '10pt' }}>\n          Already have an account? <a href='login'>Sign in.</a>\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}