{"ast":null,"code":"var _jsxFileName = \"/Users/benbavar/jcbenny/src/pages/Sell.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useUser } from '../lib/useUser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst onfulfilled = async (res, bodyObj) => {\n  const card = document.querySelector('#sell > .card');\n  const imgBox = card.querySelector('.img-box');\n  const prevImg = imgBox.querySelector('img');\n  if (prevImg) prevImg.remove();\n  const img = document.createElement('img');\n  img.height = 500;\n  img.width = 500;\n  img.src = await res.text();\n  imgBox.appendChild(img);\n  let saleBtn = null;\n  let btns = card.querySelectorAll('button');\n  if (btns.length > 1) saleBtn = btns[1];\n  const h2 = card.querySelector('h2');\n  if (h2) {\n    h2.remove();\n    const input = card.querySelector('input');\n    const h3 = document.createElement('h3');\n    h3.textContent = 'Does this resemble the item you had in mind? If not, that may work to your advantage, actually. You want to sell this thing, not accurately represent it to shoppers. But if, for any reason, you want to change the picture, feel free to send another text prompt. Even the one you sent previously will generate a new image if resent.';\n    card.insertBefore(h3, input);\n    saleBtn = document.createElement('button');\n    saleBtn.textContent = 'Stick with this';\n    saleBtn.classList.add('submit');\n    card.insertBefore(saleBtn, imgBox);\n    const sendPromptBtn = btns[0];\n    sendPromptBtn.textContent = 'Try again';\n  }\n  if (saleBtn) {\n    const putItemUpForSale = () => {\n      bodyObj.List.ImgURL = img.src;\n      console.log(`bodyObj.List.ImgURL = ${bodyObj.List.ImgURL}`);\n      fetch('https://weak-puce-toad-garb.cyclic.app/private/sell-something/save-pic', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(bodyObj)\n      }).then(res => {\n        res.text().then(text => {\n          console.log(text);\n        });\n      }).catch(error => console.log(error));\n    };\n    console.log(`bodyObj.List.ImgURL = ${bodyObj.List.ImgURL}`);\n    saleBtn.addEventListener('onclick', putItemUpForSale);\n  }\n  console.log(`saleBtn does ${saleBtn ? '' : 'not '}exist`);\n};\nconst sendOpenAIPrompt = (e, description, email) => {\n  // const bodyObj = { List: { Description: description }, Email: email };\n  fetch('https://weak-puce-toad-garb.cyclic.app/private/sell-something/make-pic', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      List: {\n        Description: description\n      },\n      Email: email\n    })\n  }).then(res => onfulfilled(res, {\n    List: {\n      Description: description\n    },\n    Email: email\n  })).catch(error => console.log(error));\n};\nconst Sell = () => {\n  _s();\n  const user = useUser();\n  const {\n    Email\n  } = user;\n  const [description, setDescription] = useState('');\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    id: \"sell\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"What do you have to sell?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: description,\n        onChange: e => {\n          setDescription(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submit\",\n        onClick: e => sendOpenAIPrompt(e, description, Email),\n        children: \"Sell\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"img-box\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(Sell, \"S2X3takVdpRHEr1eMQ5KwfqMdvo=\", false, function () {\n  return [useUser];\n});\n_c = Sell;\nexport default Sell;\nvar _c;\n$RefreshReg$(_c, \"Sell\");","map":{"version":3,"names":["useState","useUser","jsxDEV","_jsxDEV","onfulfilled","res","bodyObj","card","document","querySelector","imgBox","prevImg","remove","img","createElement","height","width","src","text","appendChild","saleBtn","btns","querySelectorAll","length","h2","input","h3","textContent","insertBefore","classList","add","sendPromptBtn","putItemUpForSale","List","ImgURL","console","log","fetch","method","headers","body","JSON","stringify","then","catch","error","addEventListener","sendOpenAIPrompt","e","description","email","Description","Email","Sell","_s","user","setDescription","id","children","className","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["/Users/benbavar/jcbenny/src/pages/Sell.js"],"sourcesContent":["import { useState } from 'react';\nimport { useUser } from '../lib/useUser';\n\nconst onfulfilled = async (res, bodyObj) => {\n  const card = document.querySelector('#sell > .card');\n  const imgBox = card.querySelector('.img-box');\n\n  const prevImg = imgBox.querySelector('img');\n  if (prevImg) prevImg.remove();\n\n  const img = document.createElement('img');\n  img.height = 500;\n  img.width = 500;\n  img.src = await res.text();\n\n  imgBox.appendChild(img);\n\n  let saleBtn = null;\n  let btns = card.querySelectorAll('button');\n  if (btns.length > 1) saleBtn = btns[1];\n\n  const h2 = card.querySelector('h2');\n  if (h2) {\n    h2.remove();\n\n    const input = card.querySelector('input');\n\n    const h3 = document.createElement('h3');\n    h3.textContent =\n      'Does this resemble the item you had in mind? If not, that may work to your advantage, actually. You want to sell this thing, not accurately represent it to shoppers. But if, for any reason, you want to change the picture, feel free to send another text prompt. Even the one you sent previously will generate a new image if resent.';\n    card.insertBefore(h3, input);\n\n    saleBtn = document.createElement('button');\n    saleBtn.textContent = 'Stick with this';\n    saleBtn.classList.add('submit');\n    card.insertBefore(saleBtn, imgBox);\n\n    const sendPromptBtn = btns[0];\n    sendPromptBtn.textContent = 'Try again';\n  }\n\n  if (saleBtn) {\n    const putItemUpForSale = () => {\n      bodyObj.List.ImgURL = img.src;\n\n      console.log(`bodyObj.List.ImgURL = ${bodyObj.List.ImgURL}`);\n      fetch(\n        'https://weak-puce-toad-garb.cyclic.app/private/sell-something/save-pic',\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(bodyObj),\n        }\n      )\n        .then((res) => {\n          res.text().then((text) => {\n            console.log(text);\n          });\n        })\n        .catch((error) => console.log(error));\n    };\n\n    console.log(`bodyObj.List.ImgURL = ${bodyObj.List.ImgURL}`);\n\n    saleBtn.addEventListener('onclick', putItemUpForSale);\n  }\n  console.log(`saleBtn does ${saleBtn ? '' : 'not '}exist`);\n};\n\nconst sendOpenAIPrompt = (e, description, email) => {\n  // const bodyObj = { List: { Description: description }, Email: email };\n  fetch(\n    'https://weak-puce-toad-garb.cyclic.app/private/sell-something/make-pic',\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        List: { Description: description },\n        Email: email,\n      }),\n    }\n  )\n    .then((res) =>\n      onfulfilled(res, { List: { Description: description }, Email: email })\n    )\n    .catch((error) => console.log(error));\n};\n\nconst Sell = () => {\n  const user = useUser();\n  const { Email } = user;\n\n  const [description, setDescription] = useState('');\n\n  return (\n    <body id='sell'>\n      <div className='card'>\n        <h2>What do you have to sell?</h2>\n        <input\n          value={description}\n          onChange={(e) => {\n            setDescription(e.target.value);\n          }}\n        />\n        <button\n          className='submit'\n          onClick={(e) => sendOpenAIPrompt(e, description, Email)}\n        >\n          Sell\n        </button>\n        <div className='img-box'></div>\n      </div>\n    </body>\n  );\n};\n\nexport default Sell;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}