{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useToken } from './useToken';\nexport const useUser = () => {\n  _s();\n  const [token] = useToken();\n  const getPayloadFromToken = token => {\n    const encodedPayload = token.split('.')[1];\n    return JSON.parse(atob(encodedPayload));\n  };\n  const [user, setUser] = useState(() => {\n    if (!token) return null;\n    return getPayloadFromToken(token);\n  });\n  useEffect(() => {\n    if (!token) setUser(null);else setUser(getPayloadFromToken(token));\n  }, [token]);\n  return user;\n};\n_s(useUser, \"doaaVwWQ72kAuYYpK9GMWhgyqIk=\", false, function () {\n  return [useToken];\n});","map":{"version":3,"names":["useState","useEffect","useToken","useUser","_s","token","getPayloadFromToken","encodedPayload","split","JSON","parse","atob","user","setUser"],"sources":["/Users/benbavar/jcbenny/src/lib/useUser.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nimport { useToken } from './useToken';\n\nexport const useUser = () => {\n  const [token] = useToken();\n\n  const getPayloadFromToken = (token) => {\n    const encodedPayload = token.split('.')[1];\n    return JSON.parse(atob(encodedPayload));\n  };\n\n  const [user, setUser] = useState(() => {\n    if (!token) return null;\n    return getPayloadFromToken(token);\n  });\n\n  useEffect(() => {\n    if (!token) setUser(null);\n    else setUser(getPayloadFromToken(token));\n  }, [token]);\n\n  return user;\n};\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,SAASC,QAAQ,QAAQ,YAAY;AAErC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,CAAC,GAAGH,QAAQ,CAAC,CAAC;EAE1B,MAAMI,mBAAmB,GAAID,KAAK,IAAK;IACrC,MAAME,cAAc,GAAGF,KAAK,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC1C,OAAOC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACJ,cAAc,CAAC,CAAC;EACzC,CAAC;EAED,MAAM,CAACK,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,MAAM;IACrC,IAAI,CAACK,KAAK,EAAE,OAAO,IAAI;IACvB,OAAOC,mBAAmB,CAACD,KAAK,CAAC;EACnC,CAAC,CAAC;EAEFJ,SAAS,CAAC,MAAM;IACd,IAAI,CAACI,KAAK,EAAEQ,OAAO,CAAC,IAAI,CAAC,CAAC,KACrBA,OAAO,CAACP,mBAAmB,CAACD,KAAK,CAAC,CAAC;EAC1C,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,OAAOO,IAAI;AACb,CAAC;AAACR,EAAA,CAnBWD,OAAO;EAAA,QACFD,QAAQ;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}